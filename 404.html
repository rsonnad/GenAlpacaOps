<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <title>AlpacAPPs</title>
  <script>
    // GitHub Pages SPA routing fallback
    // When a 404 occurs, redirect to the appropriate page
    const path = window.location.pathname;

    // Known valid paths - redirect to their index.html
    const validPaths = {
      // Main site pages
      '/alpacapps': '/',
      '/': '/index.html',
      '/visiting': '/visiting/',
      '/visiting/': '/visiting/index.html',
      '/orientation': '/orientation/',
      '/orientation/': '/orientation/index.html',
      '/overnight': '/overnight/',
      '/overnight/': '/overnight/index.html',
      '/worktrade': '/worktrade/',
      '/worktrade/': '/worktrade/index.html',
      '/contact': '/contact/',
      '/contact/': '/contact/index.html',
      // Hidden pages
      '/welcome': '/welcome/',
      '/welcome/': '/welcome/index.html',
      '/photos': '/photos/',
      '/photos/': '/photos/index.html',
      '/sundays': '/sundays/',
      '/sundays/': '/sundays/index.html',
      '/visiting-1': '/visiting-1/',
      '/visiting-1/': '/visiting-1/index.html',
      // Mistiq subsite
      '/mistiq': '/mistiq/',
      '/mistiq/': '/mistiq/index.html',
      '/mistiq/apply': '/mistiq/apply/',
      '/mistiq/apply/': '/mistiq/apply/index.html',
      // Spaces app
      '/spaces': '/spaces/',
      '/spaces/': '/spaces/index.html',
      '/spaces/admin': '/spaces/admin/',
      '/spaces/admin/': '/spaces/admin/index.html',
      '/spaces/events': '/spaces/events/',
      '/spaces/events/': '/spaces/events/index.html',
      '/login': '/login/',
      '/login/': '/login/index.html',
    };

    // Check if it's a known path (preserve query params AND hash for OAuth callbacks)
    if (validPaths[path]) {
      window.location.replace(validPaths[path] + window.location.search + window.location.hash);
    } else {
      // Unknown path - redirect to spaces
      window.location.replace('/spaces/');
    }
  </script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      background: #faf9f7;
      color: #2d3142;
    }
  </style>
</head>
<body>
  <p>Redirecting...</p>
</body>
</html>
