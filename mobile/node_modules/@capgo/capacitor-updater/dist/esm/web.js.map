{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\nimport { WebPlugin } from '@capacitor/core';\n\nimport type {\n  AppReadyResult,\n  AppUpdateInfo,\n  AppUpdateResult,\n  AutoUpdateEnabled,\n  BundleId,\n  BundleInfo,\n  BundleListResult,\n  CapacitorUpdaterPlugin,\n  ChannelRes,\n  ChannelUrl,\n  CurrentBundleResult,\n  DelayCondition,\n  DeviceId,\n  DownloadOptions,\n  GetAppUpdateInfoOptions,\n  GetChannelRes,\n  LatestVersion,\n  ListChannelsResult,\n  MultiDelayConditions,\n  OpenAppStoreOptions,\n  PluginVersion,\n  ResetOptions,\n  SetChannelOptions,\n  SetCustomIdOptions,\n  StatsUrl,\n  UnsetChannelOptions,\n  UpdateUrl,\n  BuiltinVersion,\n  AutoUpdateAvailable,\n  SetShakeMenuOptions,\n  ShakeMenuEnabled,\n  SetShakeChannelSelectorOptions,\n  ShakeChannelSelectorEnabled,\n  UpdateFailedEvent,\n} from './definitions';\nimport { AppUpdateAvailability } from './definitions';\n\nconst BUNDLE_BUILTIN: BundleInfo = {\n  status: 'success',\n  version: '',\n  downloaded: '1970-01-01T00:00:00.000Z',\n  id: 'builtin',\n  checksum: '',\n};\n\nexport class CapacitorUpdaterWeb extends WebPlugin implements CapacitorUpdaterPlugin {\n  async setStatsUrl(options: StatsUrl): Promise<void> {\n    console.warn('Cannot setStatsUrl in web', options);\n    return;\n  }\n\n  async setUpdateUrl(options: UpdateUrl): Promise<void> {\n    console.warn('Cannot setUpdateUrl in web', options);\n    return;\n  }\n\n  async setChannelUrl(options: ChannelUrl): Promise<void> {\n    console.warn('Cannot setChannelUrl in web', options);\n    return;\n  }\n\n  async download(options: DownloadOptions): Promise<BundleInfo> {\n    console.warn('Cannot download version in web', options);\n    return BUNDLE_BUILTIN;\n  }\n\n  async next(options: BundleId): Promise<BundleInfo> {\n    console.warn('Cannot set next version in web', options);\n    return BUNDLE_BUILTIN;\n  }\n\n  async isAutoUpdateEnabled(): Promise<AutoUpdateEnabled> {\n    console.warn('Cannot get isAutoUpdateEnabled in web');\n    return { enabled: false };\n  }\n\n  async set(options: BundleId): Promise<void> {\n    console.warn('Cannot set active bundle in web', options);\n    return;\n  }\n\n  async getDeviceId(): Promise<DeviceId> {\n    console.warn('Cannot get ID in web');\n    return { deviceId: 'default' };\n  }\n\n  async getBuiltinVersion(): Promise<BuiltinVersion> {\n    console.warn('Cannot get version in web');\n    return { version: 'default' };\n  }\n\n  async getPluginVersion(): Promise<PluginVersion> {\n    console.warn('Cannot get plugin version in web');\n    return { version: 'default' };\n  }\n\n  async delete(options: BundleId): Promise<void> {\n    console.warn('Cannot delete bundle in web', options);\n  }\n\n  async setBundleError(options: BundleId): Promise<BundleInfo> {\n    console.warn('Cannot setBundleError in web', options);\n    return BUNDLE_BUILTIN;\n  }\n\n  async list(): Promise<BundleListResult> {\n    console.warn('Cannot list bundles in web');\n    return { bundles: [] };\n  }\n\n  async reset(options?: ResetOptions): Promise<void> {\n    console.warn('Cannot reset version in web', options);\n  }\n\n  async current(): Promise<CurrentBundleResult> {\n    console.warn('Cannot get current bundle in web');\n    return { bundle: BUNDLE_BUILTIN, native: '0.0.0' };\n  }\n\n  async reload(): Promise<void> {\n    console.warn('Cannot reload current bundle in web');\n    return;\n  }\n\n  async getLatest(): Promise<LatestVersion> {\n    console.warn('Cannot getLatest current bundle in web');\n    return {\n      version: '0.0.0',\n      message: 'Cannot getLatest current bundle in web',\n    };\n  }\n\n  async setChannel(options: SetChannelOptions): Promise<ChannelRes> {\n    console.warn('Cannot setChannel in web', options);\n    return {\n      status: 'error',\n      error: 'Cannot setChannel in web',\n    };\n  }\n\n  async unsetChannel(options: UnsetChannelOptions): Promise<void> {\n    console.warn('Cannot unsetChannel in web', options);\n    return;\n  }\n\n  async setCustomId(options: SetCustomIdOptions): Promise<void> {\n    console.warn('Cannot setCustomId in web', options);\n    return;\n  }\n\n  async getChannel(): Promise<GetChannelRes> {\n    console.warn('Cannot getChannel in web');\n    return {\n      status: 'error',\n      error: 'Cannot getChannel in web',\n    };\n  }\n\n  async listChannels(): Promise<ListChannelsResult> {\n    console.warn('Cannot listChannels in web');\n    throw {\n      message: 'Cannot listChannels in web',\n      error: 'platform_not_supported',\n    };\n  }\n\n  async notifyAppReady(): Promise<AppReadyResult> {\n    return { bundle: BUNDLE_BUILTIN };\n  }\n\n  async setMultiDelay(options: MultiDelayConditions): Promise<void> {\n    console.warn('Cannot setMultiDelay in web', options?.delayConditions);\n    return;\n  }\n\n  async setDelay(option: DelayCondition): Promise<void> {\n    console.warn('Cannot setDelay in web', option);\n    return;\n  }\n\n  async cancelDelay(): Promise<void> {\n    console.warn('Cannot cancelDelay in web');\n    return;\n  }\n\n  async isAutoUpdateAvailable(): Promise<AutoUpdateAvailable> {\n    console.warn('Cannot isAutoUpdateAvailable in web');\n    return { available: false };\n  }\n\n  async getCurrentBundle(): Promise<BundleInfo> {\n    console.warn('Cannot get current bundle in web');\n    return BUNDLE_BUILTIN;\n  }\n\n  async getNextBundle(): Promise<BundleInfo | null> {\n    return Promise.resolve(null);\n  }\n\n  async getFailedUpdate(): Promise<UpdateFailedEvent | null> {\n    console.warn('Cannot getFailedUpdate in web');\n    return null;\n  }\n\n  async setShakeMenu(_options: SetShakeMenuOptions): Promise<void> {\n    throw this.unimplemented('Shake menu not available on web platform');\n  }\n\n  async isShakeMenuEnabled(): Promise<ShakeMenuEnabled> {\n    return Promise.resolve({ enabled: false });\n  }\n\n  async setShakeChannelSelector(_options: SetShakeChannelSelectorOptions): Promise<void> {\n    throw this.unimplemented('Shake channel selector not available on web platform');\n  }\n\n  async isShakeChannelSelectorEnabled(): Promise<ShakeChannelSelectorEnabled> {\n    return Promise.resolve({ enabled: false });\n  }\n\n  async getAppId(): Promise<{ appId: string }> {\n    console.warn('Cannot getAppId in web');\n    return { appId: 'default' };\n  }\n\n  async setAppId(options: { appId: string }): Promise<void> {\n    console.warn('Cannot setAppId in web', options);\n    return;\n  }\n\n  // ============================================================================\n  // App Store / Play Store Update Methods (Web stubs)\n  // ============================================================================\n\n  async getAppUpdateInfo(_options?: GetAppUpdateInfoOptions): Promise<AppUpdateInfo> {\n    console.warn('getAppUpdateInfo is not available on web platform');\n    return {\n      currentVersionName: '0.0.0',\n      currentVersionCode: '0',\n      updateAvailability: AppUpdateAvailability.UNKNOWN,\n    };\n  }\n\n  async openAppStore(_options?: OpenAppStoreOptions): Promise<void> {\n    throw this.unimplemented('openAppStore is not available on web platform');\n  }\n\n  async performImmediateUpdate(): Promise<AppUpdateResult> {\n    throw this.unimplemented('performImmediateUpdate is only available on Android');\n  }\n\n  async startFlexibleUpdate(): Promise<AppUpdateResult> {\n    throw this.unimplemented('startFlexibleUpdate is only available on Android');\n  }\n\n  async completeFlexibleUpdate(): Promise<void> {\n    throw this.unimplemented('completeFlexibleUpdate is only available on Android');\n  }\n}\n"]}