<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AlpacApps Infra &mdash; Infrastructure Replication Guide</title>
  <style>
    :root {
      --bg: #ffffff;
      --bg-warm: #faf8f5;
      --text: #1a1a1a;
      --text-muted: #666666;
      --accent: #c9a87c;
      --accent-light: #f5efe6;
      --border: #e5e5e5;
      --code-bg: #faf8f5;
      --success: #6b8e5a;
      --success-light: #eef5eb;
      --warning-bg: #fceee9;
      --warning-border: #c75b3a;
      --claude-bg: #f3effc;
      --claude-border: #7c6a9a;
      --shadow: 0 1px 3px rgba(26,26,26,0.06), 0 1px 2px rgba(26,26,26,0.08);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      color: var(--text);
      background: var(--bg-warm);
      line-height: 1.7;
      font-size: 16px;
      -webkit-font-smoothing: antialiased;
    }

    .hero {
      background: var(--text);
      color: #ffffff;
      padding: 3.5rem 2rem;
    }
    .hero-inner {
      max-width: 1000px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      gap: 3rem;
    }
    .hero-image {
      flex-shrink: 0;
      width: 280px;
      height: auto;
      border-radius: 12px;
      border: 2px solid rgba(201,168,124,0.3);
    }
    .hero-text {
      flex: 1;
    }
    .hero h1 {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      font-size: 2.8rem;
      font-weight: 400;
      margin-bottom: 1.25rem;
      line-height: 1.2;
    }
    .hero h1 span { color: var(--accent); }
    .hero p {
      font-size: 1.1rem;
      color: #b0b0b0;
      max-width: 620px;
      line-height: 1.7;
      margin-bottom: 1.5rem;
    }
    .hero .badge {
      display: inline-block;
      background: rgba(201,168,124,0.15);
      color: var(--accent);
      padding: 0.5rem 1.5rem;
      border-radius: 999px;
      font-weight: 600;
      font-size: 0.9rem;
      letter-spacing: 0.02em;
    }

    .container {
      max-width: 860px;
      margin: 0 auto;
      padding: 2.5rem 1.5rem 4rem;
    }

    .philosophy {
      background: var(--bg);
      border: 1px solid var(--border);
      border-left: 4px solid var(--accent);
      border-radius: 0 8px 8px 0;
      padding: 1.5rem 2rem;
      margin-bottom: 2.5rem;
      font-size: 0.95rem;
    }
    .philosophy strong { color: var(--accent); }

    .toc {
      background: var(--bg);
      border-radius: 8px;
      padding: 2rem;
      margin-bottom: 2.5rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
    }
    .toc h2 {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
      margin-bottom: 1rem;
    }
    .toc-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.35rem 2rem;
    }
    .toc a {
      color: var(--text);
      text-decoration: none;
      font-size: 0.92rem;
      padding: 0.2rem 0;
      display: flex;
      align-items: center;
      gap: 0.6rem;
      transition: color 0.2s;
    }
    .toc a:hover { color: var(--accent); }
    .toc .num {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 22px;
      height: 22px;
      background: var(--accent-light);
      color: var(--accent);
      border-radius: 5px;
      font-size: 0.7rem;
      font-weight: 600;
      flex-shrink: 0;
    }

    .section {
      background: var(--bg);
      border-radius: 8px;
      padding: 2.5rem;
      margin-bottom: 1.5rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
    }
    .section h2 {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      font-size: 1.6rem;
      font-weight: 400;
      margin-bottom: 0.75rem;
      color: var(--text);
      line-height: 1.3;
    }
    .section h2 .cost-badge { margin-left: 0.75rem; vertical-align: middle; }
    .section h2 .service-icon {
      width: 24px;
      height: 24px;
      vertical-align: middle;
      margin-right: 0.5rem;
      position: relative;
      top: -2px;
      border-radius: 4px;
    }
    .section h3 {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      font-size: 0.85rem;
      font-weight: 600;
      margin: 2rem 0 0.75rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }
    .section h3:first-of-type { margin-top: 1.25rem; }

    .step-label {
      display: inline-block;
      font-size: 0.7rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      padding: 0.3rem 0.75rem;
      border-radius: 4px;
      margin-bottom: 0.5rem;
    }
    .step-you { background: #eef5eb; color: #4a6b3a; }
    .step-paste { background: var(--accent-light); color: #8a6f3e; }
    .step-claude { background: var(--claude-bg); color: #5a4a7a; }

    p { margin-bottom: 0.85rem; }
    strong { font-weight: 600; }

    .arch-diagram {
      background: var(--text);
      color: var(--accent);
      padding: 1.25rem 1.5rem;
      border-radius: 6px;
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 0.82rem;
      line-height: 1.6;
      overflow-x: auto;
      margin: 1rem 0;
      white-space: pre;
    }

    pre {
      background: var(--code-bg);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 1rem 1.25rem;
      overflow-x: auto;
      margin: 0.75rem 0 1rem;
      font-size: 0.82rem;
      line-height: 1.6;
    }
    pre code {
      font-family: 'SF Mono', 'Fira Code', monospace;
      color: var(--text);
    }
    code {
      font-family: 'SF Mono', 'Fira Code', monospace;
      background: var(--accent-light);
      color: #6b5230;
      padding: 0.15em 0.4em;
      border-radius: 3px;
      font-size: 0.86em;
    }
    pre code { background: none; color: inherit; padding: 0; }
    pre[data-lang]::before {
      content: attr(data-lang);
      display: block;
      font-size: 0.65rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      font-weight: 600;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      font-size: 0.88rem;
    }
    thead th {
      background: var(--accent-light);
      color: var(--text);
      text-align: left;
      padding: 0.7rem 1rem;
      font-weight: 600;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }
    thead th:first-child { border-radius: 6px 0 0 0; }
    thead th:last-child { border-radius: 0 6px 0 0; }
    td {
      padding: 0.6rem 1rem;
      border-bottom: 1px solid var(--border);
    }
    tbody tr:last-child td { border-bottom: none; }
    tbody tr:hover { background: var(--bg-warm); }

    ol, ul { padding-left: 1.5rem; margin-bottom: 1rem; }
    li { margin-bottom: 0.35rem; }
    li::marker { color: var(--accent); font-weight: 600; }

    .checklist { list-style: none; padding-left: 0; }
    .checklist li {
      padding: 0.45rem 0.75rem;
      border-radius: 5px;
      display: flex;
      align-items: flex-start;
      gap: 0.6rem;
      margin-bottom: 0.2rem;
      transition: background 0.15s;
    }
    .checklist li:hover { background: var(--accent-light); }
    .checklist li::before {
      content: '';
      width: 16px;
      height: 16px;
      border: 2px solid var(--border);
      border-radius: 3px;
      flex-shrink: 0;
      margin-top: 3px;
    }

    .callout {
      border-left: 3px solid var(--accent);
      background: var(--accent-light);
      padding: 1rem 1.25rem;
      border-radius: 0 6px 6px 0;
      margin: 1rem 0;
      font-size: 0.9rem;
    }
    .callout.warning {
      border-color: var(--warning-border);
      background: var(--warning-bg);
    }
    .callout.success {
      border-color: var(--success);
      background: var(--success-light);
    }
    .callout.claude {
      border-color: var(--claude-border);
      background: var(--claude-bg);
    }
    .callout strong { display: block; margin-bottom: 0.25rem; }
    .callout .claude-detail { display: block; margin-top: 0.5rem; font-size: 0.85rem; color: var(--text-muted); }

    .copy-prompt {
      position: absolute;
      top: 0.75rem;
      right: 0.75rem;
      background: rgba(124,106,154,0.15);
      color: #5a4a7a;
      border: none;
      border-radius: 4px;
      padding: 0.25rem 0.6rem;
      font-size: 0.72rem;
      font-weight: 600;
      cursor: pointer;
      font-family: inherit;
      transition: background 0.2s;
    }
    .copy-prompt:hover { background: rgba(124,106,154,0.25); }

    .cost-badge {
      display: inline-block;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      font-size: 0.7rem;
      font-weight: 600;
      padding: 0.2rem 0.6rem;
      border-radius: 999px;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }
    .cost-free { background: var(--success-light); color: var(--success); }
    .cost-payg { background: var(--accent-light); color: #8a6f3e; }

    a { color: var(--accent); transition: color 0.2s; }
    a:hover { color: #a08050; }

    .conversation {
      background: var(--bg-warm);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 1.25rem 1.5rem;
      margin: 1rem 0;
      font-size: 0.88rem;
    }
    .conversation .you, .conversation .ai { margin-bottom: 0.75rem; }
    .conversation .you::before {
      content: 'You:';
      font-weight: 600;
      color: var(--success);
      margin-right: 0.4rem;
    }
    .conversation .ai::before {
      content: 'Claude:';
      font-weight: 600;
      color: #7c6a9a;
      margin-right: 0.4rem;
    }
    .conversation .ai { font-style: italic; color: var(--text-muted); }

    @media (max-width: 640px) {
      .hero-inner { flex-direction: column; gap: 1.5rem; text-align: center; }
      .hero-image { width: 180px; height: auto; }
      .hero h1 { font-size: 2rem; }
      .hero p { font-size: 0.95rem; }
      .section { padding: 1.5rem; }
      .toc-grid { grid-template-columns: 1fr; }
      table { font-size: 0.8rem; }
      td, thead th { padding: 0.5rem 0.6rem; }
    }

    .capabilities {
      background: var(--bg);
      border-radius: 8px;
      padding: 2rem;
      margin-bottom: 2.5rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
    }
    .capabilities h2 {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      font-size: 1.4rem;
      font-weight: 400;
      margin-bottom: 0.5rem;
    }
    .capabilities > p {
      color: var(--text-muted);
      font-size: 0.92rem;
      margin-bottom: 1.25rem;
    }
    .cap-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
    }
    .cap-card {
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 1rem 1.15rem;
      transition: border-color 0.2s;
    }
    .cap-card:hover { border-color: var(--accent); }
    .cap-card.core { border-left: 3px solid var(--success); }
    .cap-card .cap-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.35rem;
    }
    .cap-card .cap-name {
      font-weight: 600;
      font-size: 0.95rem;
    }
    .cap-card .cap-tag {
      font-size: 0.65rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      padding: 0.15rem 0.5rem;
      border-radius: 3px;
    }
    .cap-tag.core-tag { background: var(--success-light); color: var(--success); }
    .cap-tag.optional-tag { background: var(--accent-light); color: #8a6f3e; }
    .cap-card .cap-desc {
      font-size: 0.82rem;
      color: var(--text-muted);
      margin-bottom: 0.4rem;
      line-height: 1.5;
    }
    .cap-card .cap-service {
      font-size: 0.75rem;
      color: var(--accent);
      font-weight: 500;
    }
    @media (max-width: 640px) {
      .cap-grid { grid-template-columns: 1fr; }
    }

    /* Stack diagram */
    .stack-wrapper {
      display: flex;
      gap: 1rem;
      align-items: stretch;
    }
    .stack-layers {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    .stack-layer {
      padding: 1rem 1.25rem;
      border: 1px solid var(--border);
      position: relative;
    }
    .stack-layer + .stack-layer { border-top: none; }
    .stack-layer:first-child { border-radius: 8px 8px 0 0; }
    .stack-layer:last-child { border-radius: 0 0 8px 8px; }
    .layer-label {
      font-size: 0.7rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      margin-bottom: 0.4rem;
    }
    .layer-items {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
    }
    .layer-items span {
      font-size: 0.82rem;
      padding: 0.25rem 0.7rem;
      border-radius: 4px;
      font-weight: 500;
    }
    .layer-services {
      font-size: 0.72rem;
      color: var(--text-muted);
      margin-top: 0.4rem;
      font-weight: 500;
    }
    .layer-desc {
      font-size: 0.85rem;
      line-height: 1.5;
    }

    .layer-external {
      background: var(--bg-warm);
      border-style: dashed;
      border-color: var(--border);
    }
    .layer-external + .stack-layer { border-top: 1px solid var(--border); }
    .layer-external .layer-label { color: var(--text-muted); }
    .layer-external .layer-items span {
      background: var(--bg);
      border: 1px dashed var(--border);
      color: var(--text-muted);
    }

    .layer-capabilities { background: var(--bg); }
    .layer-capabilities .layer-label { color: #8a6f3e; }
    .layer-capabilities .layer-items span {
      background: var(--accent-light);
      color: #6b5230;
    }

    .layer-crm {
      background: var(--success-light);
      border-color: var(--success);
    }
    .layer-crm + .stack-layer { border-top: 1px solid var(--success); }
    .layer-crm .layer-label { color: var(--success); }
    .layer-crm .layer-desc { color: #4a6b3a; }

    .layer-foundation {
      background: var(--text);
      border-color: var(--text);
    }
    .layer-foundation .layer-label { color: var(--accent); }
    .layer-foundation .layer-items span {
      background: rgba(201,168,124,0.15);
      color: var(--accent);
    }
    .layer-foundation .layer-services { color: rgba(255,255,255,0.5); }

    .stack-sidebar {
      width: 140px;
      flex-shrink: 0;
      background: var(--claude-bg);
      border: 2px solid var(--claude-border);
      border-radius: 8px;
      padding: 1.25rem 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
    }
    .stack-sidebar::before {
      content: '';
      position: absolute;
      left: -1rem;
      top: 20%;
      bottom: 20%;
      width: 0;
      border-left: 2px dashed var(--claude-border);
      opacity: 0.4;
    }
    .sidebar-label {
      font-weight: 600;
      font-size: 0.95rem;
      color: #5a4a7a;
      margin-bottom: 0.5rem;
    }
    .sidebar-desc {
      font-size: 0.75rem;
      color: #7c6a9a;
      line-height: 1.4;
      margin-bottom: 0.75rem;
    }
    .sidebar-cost {
      font-size: 0.7rem;
      font-weight: 600;
      color: #5a4a7a;
      background: rgba(124,106,154,0.12);
      padding: 0.2rem 0.6rem;
      border-radius: 999px;
    }

    @media (max-width: 640px) {
      .stack-wrapper { flex-direction: column; }
      .stack-sidebar {
        width: 100%;
        flex-direction: row;
        gap: 1rem;
        padding: 1rem;
      }
      .stack-sidebar::before { display: none; }
      .sidebar-label { margin-bottom: 0; }
      .sidebar-desc { margin-bottom: 0; }
    }

    /* ---- AAP Header & Navigation ---- */
    .aap-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 80px;
      z-index: 1000;
      transition: background-color 0.3s ease;
    }
    .aap-header--transparent { background-color: transparent; }
    .aap-header--solid {
      background-color: #ffffff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .aap-header--solid .aap-header__logo-text,
    .aap-header--solid .aap-nav__link,
    .aap-header--solid .aap-menu-toggle__bar {
      color: var(--text);
      background-color: var(--text);
    }
    .aap-header--solid .aap-nav__link { background-color: transparent; }
    .aap-header__inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }
    .aap-header__logo {
      display: flex;
      align-items: center;
      gap: 1rem;
      text-decoration: none;
      color: inherit;
    }
    .aap-header__icon { height: 50px; width: auto; }
    .aap-header__wordmark { height: 28px; width: auto; }
    .aap-nav { display: none; }
    .aap-nav__list {
      display: flex;
      gap: 1.5rem;
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .aap-nav__link {
      font-size: 0.9rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      padding: 0.5rem 0;
      position: relative;
      color: #ffffff;
      text-decoration: none;
    }
    .aap-nav__link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background-color: currentColor;
      transition: width 0.3s ease;
    }
    .aap-nav__link:hover::after { width: 100%; }
    .aap-menu-toggle {
      display: flex;
      flex-direction: column;
      gap: 5px;
      padding: 0.5rem;
      background: none;
      border: none;
      cursor: pointer;
    }
    .aap-menu-toggle__bar {
      width: 24px;
      height: 2px;
      background-color: #ffffff;
      transition: transform 0.3s ease;
    }
    @media (min-width: 768px) {
      .aap-nav { display: flex; }
      .aap-menu-toggle { display: none; }
    }
    @media (max-width: 767px) {
      .aap-header__wordmark { display: none; }
    }
    .aap-mobile-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ffffff;
      z-index: 999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .aap-mobile-nav--open {
      opacity: 1;
      visibility: visible;
    }
    .aap-mobile-nav__list {
      list-style: none;
      text-align: center;
      padding: 0;
      margin: 0;
    }
    .aap-mobile-nav__item { margin-bottom: 1.5rem; }
    .aap-mobile-nav__link {
      font-size: 1.5rem;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      color: var(--text);
      text-decoration: none;
    }
    .aap-mobile-nav__link:hover { color: var(--accent); }
    .aap-mobile-nav__close {
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      font-size: 2rem;
      background: none;
      border: none;
      cursor: pointer;
      color: var(--text);
    }

    @media print {
      body { background: white; }
      .aap-header, .aap-mobile-nav { display: none; }
      .hero { print-color-adjust: exact; -webkit-print-color-adjust: exact; }
      .section { box-shadow: none; border: 1px solid #ddd; break-inside: avoid; }
    }
  </style>
</head>
<body>

<span data-site-version style="display:none;">v260210.16 3:42a</span>
<div id="siteHeader"></div>

<div class="hero" style="padding-top: calc(80px + 3.5rem);">
  <div class="hero-inner">
    <img src="https://aphrrfprbixmhissnjfn.supabase.co/storage/v1/object/public/housephotos/infra/alpacaservers2.jpg" alt="Alpacas in a server room" class="hero-image">
    <div class="hero-text">
      <h1><span>AlpacApps</span> Infra</h1>
      <p>Set up a super low cost do-it-all system from scratch &mdash; messaging, marketing, customer management, and finance. You just need to set up the required (mostly free) accounts, then tell Claude Code what you have, where it is, and what you ideally want. Then watch the AI magic transpire.</p>
      <span class="badge">$0/month infrastructure &bull; $0&ndash;$200/month for Claude Code development</span>
    </div>
  </div>
</div>

<div class="container">

  <div class="philosophy">
    <strong>The philosophy:</strong> You set up the (mostly free) vendor accounts and gather credentials. Then tell Claude Code what you have and what you want &mdash; it handles all the terminal work: database migrations, CLI setup, edge function deployment, git pushes.
  </div>

  <div class="capabilities">
    <h2>What can you build with this?</h2>
    <p>A full-stack business platform. The layers build on each other &mdash; pick what you need.</p>

    <div class="stack-wrapper">
      <div class="stack-layers">

        <div class="stack-layer layer-external">
          <div class="layer-label">Your Customers &amp; Partners</div>
          <div class="layer-items">
            <span>Consumers</span>
            <span>Banks/Payment Systems</span>
            <span>External Services</span>
          </div>
        </div>

        <div class="stack-layer layer-capabilities">
          <div class="layer-label">Capabilities</div>
          <div class="layer-items">
            <span>User Login</span>
            <span>Email</span>
            <span>SMS</span>
            <span>Payments</span>
            <span>E-Signatures</span>
            <span>AI Features</span>
          </div>
          <div class="layer-services">Google OAuth &bull; Resend &bull; Telnyx &bull; Square &bull; SignWell &bull; Gemini</div>
        </div>

        <div class="stack-layer layer-crm">
          <div class="layer-label">Your Business</div>
          <div class="layer-desc">CRM &amp; customer management &mdash; contacts, relationships, communications, documents, payments</div>
        </div>

        <div class="stack-layer layer-foundation">
          <div class="layer-label">Foundation</div>
          <div class="layer-items">
            <span>Database + Auth + Storage</span>
            <span>Website + Hosting</span>
          </div>
          <div class="layer-services">Supabase &bull; GitHub Pages &bull; Free</div>
        </div>

      </div>

      <div class="stack-sidebar">
        <div class="sidebar-label">Claude Code</div>
        <div class="sidebar-desc">AI Developer &mdash; builds and manages every layer</div>
        <div class="sidebar-cost">Free&ndash;$200/mo</div>
      </div>
    </div>
  </div>

  <nav class="toc">
    <h2>Easy Setup Instructions</h2>
    <div class="toc-grid">
      <a href="#architecture"><span class="num" style="background:var(--bg-warm);color:var(--text-muted);">&mdash;</span> Architecture Overview</a>
      <a href="#github"><span class="num">1</span> GitHub + Starter Template</a>
      <a href="#claude-code"><span class="num">2</span> Install Claude Code</a>
      <a href="#supabase"><span class="num">3</span> Supabase</a>
      <a href="#google-auth"><span class="num">4</span> Google Sign-In</a>
      <a href="#resend"><span class="num">5</span> Resend (Email)</a>
      <a href="#telnyx"><span class="num">6</span> Telnyx (SMS)</a>
      <a href="#square"><span class="num">7</span> Square (Payments)</a>
      <a href="#signwell"><span class="num">8</span> SignWell (E-Signatures)</a>
      <a href="#gemini"><span class="num">9</span> Google Gemini (AI)</a>
      <a href="#discord"><span class="num">10</span> Discord Bot</a>
      <a href="#domain"><span class="num">11</span> Custom Domain</a>
      <a href="#template"><span class="num">12</span> CLAUDE.md Templates</a>
      <a href="#checklist"><span class="num">13</span> Day-One Checklist</a>
      <a href="#mobile"><span class="num">14</span> Mobile App (iOS &amp; Android)</a>
    </div>
  </nav>

  <!-- Architecture (unnumbered) -->
  <div class="section" id="architecture">
    <h2>Architecture Overview</h2>
    <div class="arch-diagram">Browser &rarr; GitHub Pages (static HTML/CSS/JS) &rarr; Supabase (PostgreSQL + Storage + Auth)
                                             &nearr;
Optional: Discord Bot (DigitalOcean) &mdash;&mdash;&mdash;&rsaquo;</div>
    <p><strong>Key principle:</strong> No backend server. All application logic runs client-side in the browser. Supabase provides the database, file storage, authentication, and serverless functions. GitHub Pages serves static files for free.</p>
    <table>
      <thead><tr><th>Service</th><th>Purpose</th><th>Free Tier</th></tr></thead>
      <tbody>
        <tr><td>GitHub Pages</td><td>Static site hosting</td><td><span class="cost-badge cost-free">Free</span> Unlimited</td></tr>
        <tr><td>Supabase</td><td>Database, storage, auth, edge functions</td><td><span class="cost-badge cost-free">Free</span> 500 MB DB, 1 GB storage</td></tr>
        <tr><td>Resend</td><td>Transactional email</td><td><span class="cost-badge cost-free">Free</span> 3,000 emails/month</td></tr>
        <tr><td>Telnyx</td><td>SMS notifications</td><td><span class="cost-badge cost-payg">Pay-as-you-go</span> ~$0.004/SMS</td></tr>
        <tr><td>Square</td><td>Payment processing</td><td><span class="cost-badge cost-payg">Pay-as-you-go</span> 2.9% + 30&cent;/txn</td></tr>
        <tr><td>SignWell</td><td>E-signatures</td><td><span class="cost-badge cost-free">Free</span> 3&ndash;25 docs/month</td></tr>
        <tr><td>Google Gemini</td><td>AI-powered matching</td><td><span class="cost-badge cost-free">Free</span> Free tier</td></tr>
      </tbody>
    </table>
  </div>

  <!-- 1. GitHub + Starter Template -->
  <div class="section" id="github">
    <h2><img src="https://cdn.simpleicons.org/github" alt="GitHub" class="service-icon">1. GitHub + Starter Template <span class="cost-badge cost-free">Free</span></h2>
    <p>First, get a GitHub account and create your project from the starter template. Everything here is done in your browser &mdash; no terminal needed.</p>

    <h3><span class="step-label step-you">Create a GitHub account</span></h3>
    <p>You'll need a free GitHub account to host your site and store your code. If you already have one, skip to the next step.</p>
    <ol>
      <li>Go to <a href="https://github.com/signup" target="_blank">github.com/signup</a> and sign up with your email</li>
      <li>Verify your email address (GitHub will send you a confirmation link)</li>
      <li>That's it &mdash; a free account is all you need. GitHub Pages hosting is free for public repositories.</li>
    </ol>

    <h3><span class="step-label step-you">Create your project from the template</span></h3>
    <p>Choose a name for your project. This will become your repository name on GitHub (lowercase with hyphens, no spaces, e.g., <code>my-salon-app</code>).</p>

    <div style="display: flex; gap: 0.75rem; align-items: center; margin: 1.5rem 0; flex-wrap: wrap;">
      <input type="text" id="github-username" placeholder="GitHub username" style="font-family: inherit; font-size: 0.95rem; padding: 0.7rem 1rem; border: 2px solid var(--border); border-radius: 6px; width: 180px; outline: none; transition: border-color 0.2s;" onfocus="this.style.borderColor='var(--accent)'" onblur="this.style.borderColor='var(--border)'" oninput="updateCloneCommands()">
      <input type="text" id="clone-project-name" placeholder="my-salon-app" style="font-family: inherit; font-size: 0.95rem; padding: 0.7rem 1rem; border: 2px solid var(--border); border-radius: 6px; width: 220px; outline: none; transition: border-color 0.2s;" onfocus="this.style.borderColor='var(--accent)'" onblur="this.style.borderColor='var(--border)'" oninput="updateCloneCommands()">
      <button onclick="checkRepoName()" style="background: var(--bg-warm); color: var(--text); padding: 0.7rem 1rem; border-radius: 6px; font-weight: 600; font-size: 0.85rem; border: 1px solid var(--border); cursor: pointer; font-family: inherit; white-space: nowrap;">Check availability</button>
    </div>
    <div id="repo-check-result" style="font-size: 0.85rem; margin: -0.5rem 0 1rem 0; min-height: 1.4em;"></div>

    <ol>
      <li>Go to the template repository: <a href="https://github.com/rsonnad/alpacapps-infra" target="_blank">github.com/rsonnad/alpacapps-infra</a></li>
      <li>Click the green <strong>"Use this template"</strong> button &rarr; <strong>"Create a new repository"</strong></li>
      <li>Enter your project name as the <strong>Repository name</strong> (e.g., <code>my-salon-app</code>)</li>
      <li>Make sure <strong>Public</strong> is selected (required for free GitHub Pages hosting)</li>
      <li>Click <strong>"Create repository"</strong> &mdash; GitHub copies all the template files into your own repo</li>
    </ol>

    <h3><span class="step-label step-you">Turn on GitHub Pages</span></h3>
    <ol>
      <li>In your new repo, go to <strong>Settings</strong> (gear icon near the top)</li>
      <li>Click <strong>Pages</strong> in the left sidebar</li>
      <li>Under "Source," select <strong>Deploy from a branch</strong> &rarr; <strong>main</strong> &rarr; <strong>/ (root)</strong> &rarr; <strong>Save</strong></li>
      <li>Wait 1&ndash;2 minutes. Your site is live at <code>https://&lt;username&gt;.github.io/&lt;project-name&gt;/</code></li>
    </ol>

    <h3><span class="step-label step-you">Download the project to your computer</span></h3>
    <p>You need a copy of your project on your computer. This takes two steps:</p>

    <p><strong>a) Open a terminal</strong></p>
    <div class="callout" style="border-color: var(--text-muted); background: var(--bg-warm);">
      <ul style="margin: 0; padding-left: 1.25rem;">
        <li><strong>Mac:</strong> Press <code>Cmd + Space</code>, type <strong>Terminal</strong>, press Enter</li>
        <li><strong>Windows:</strong> Press <code>Win + R</code>, type <strong>cmd</strong>, press Enter</li>
      </ul>
    </div>

    <p><strong>b) Paste this command into your terminal</strong></p>
    <p>Click <strong>Copy</strong> below, then paste into your terminal (<code>Ctrl+V</code> on Windows, <code>Cmd+V</code> on Mac) and press Enter:</p>

    <pre data-lang="bash" style="position: relative;"><code id="clone-commands">git clone https://github.com/USERNAME/my-salon-app.git
cd my-salon-app</code><button onclick="copyCloneCommands()" style="position: absolute; top: 0.5rem; right: 0.5rem; background: var(--accent); color: #fff; border: none; border-radius: 4px; padding: 0.3rem 0.7rem; font-size: 0.75rem; cursor: pointer; font-weight: 600;">Copy</button></pre>

    <p>This downloads your project files into a folder on your computer. You'll point Claude Code at this folder in the next step.</p>

    <div class="callout warning" style="font-size: 0.85rem;">
      <strong>Windows: Git not installed?</strong>
      If you see "git is not recognized," download Git from <a href="https://git-scm.com/download/win" target="_blank">git-scm.com</a>, install it (use all defaults), then close and reopen your terminal and try again. Mac already has Git built in.
    </div>

    <h3><span class="step-label step-you">Connect Git to your GitHub account</span></h3>
    <p>Before Claude Code can push code to your repository, Git needs to know your GitHub credentials. The easiest way is GitHub CLI, which handles this through your browser &mdash; no passwords or tokens to manage.</p>

    <p><strong>a) Install GitHub CLI</strong></p>
    <div class="callout" style="border-color: var(--text-muted); background: var(--bg-warm);">
      <ul style="margin: 0; padding-left: 1.25rem;">
        <li><strong>Mac:</strong> Paste into Terminal: <code>brew install gh</code><br>
          <span style="font-size: 0.85rem; color: var(--text-muted);">Don&rsquo;t have Homebrew? Paste this first: <code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code></span></li>
        <li><strong>Windows:</strong> Paste into your terminal: <code>winget install --id GitHub.cli</code><br>
          <span style="font-size: 0.85rem; color: var(--text-muted);">Then close and reopen your terminal.</span></li>
      </ul>
    </div>

    <p><strong>b) Log in to GitHub through your browser</strong></p>
    <p>Paste this into your terminal and press Enter:</p>
    <pre data-lang="bash" style="position: relative;"><code>gh auth login</code><button onclick="navigator.clipboard.writeText('gh auth login');this.textContent='Copied!';var b=this;setTimeout(function(){b.textContent='Copy'},2000)" style="position: absolute; top: 0.5rem; right: 0.5rem; background: var(--accent); color: #fff; border: none; border-radius: 4px; padding: 0.3rem 0.7rem; font-size: 0.75rem; cursor: pointer; font-weight: 600;">Copy</button></pre>
    <p>It will ask a few questions &mdash; pick these answers:</p>
    <ol>
      <li><strong>Where do you use GitHub?</strong> &rarr; <code>GitHub.com</code></li>
      <li><strong>Preferred protocol?</strong> &rarr; <code>HTTPS</code></li>
      <li><strong>Authenticate Git with GitHub credentials?</strong> &rarr; <code>Yes</code></li>
      <li><strong>How would you like to authenticate?</strong> &rarr; <code>Login with a web browser</code></li>
    </ol>
    <p>It will show a one-time code and open your browser. Paste the code, click <strong>Authorize</strong>, and you&rsquo;re done.</p>

    <div class="callout success" style="font-size: 0.85rem;">
      <strong>How to verify it worked:</strong>
      Run <code>gh auth status</code> in your terminal. You should see your GitHub username and &ldquo;Logged in to github.com.&rdquo;
    </div>

    <p><strong>Project structure included in the template:</strong></p>
    <pre data-lang="folder structure"><code>your-repo/
├── index.html              # Landing page
├── styles.css              # Global styles
├── shared/                 # Shared JavaScript modules
│   ├── supabase.js         # Supabase client singleton
│   ├── auth.js             # Authentication
│   └── ...                 # Other services
├── spaces/                 # Public-facing pages
│   ├── index.html
│   ├── app.js
│   └── admin/              # Admin dashboard
│       ├── index.html
│       ├── app.js
│       └── manage.html
└── supabase/               # Edge functions (deployed via CLI)
    └── functions/</code></pre>
  </div>

  <!-- 2. Claude Code -->
  <div class="section" id="claude-code">
    <h2><img src="https://cdn.simpleicons.org/claude" alt="Claude" class="service-icon">2. Install Claude Code</h2>
    <p>Claude Code is your AI developer. Once it's set up, you won't need to use the terminal again &mdash; but if Claude asks you to do something in the terminal or bash something, just ask it to do it by itself. Claude can handle everything from here, but sometimes forgets.</p>

    <div class="callout">
      <strong>Recommended: Claude Pro ($20/month) or higher</strong>
      The free tier works, but you'll hit usage limits quickly when setting up infrastructure. The <a href="https://claude.ai/upgrade" target="_blank">Pro plan ($20/month)</a> gives you significantly more usage. For intensive development, consider Max ($100) or Max+ ($200).
    </div>

    <h3><span class="step-label step-you">You do (one time)</span></h3>
    <ol>
      <li>Sign up for <a href="https://claude.ai" target="_blank">Claude Pro</a> ($20/month recommended)</li>
      <li>Download the <a href="https://claude.ai/download" target="_blank">Claude desktop app</a> &mdash; Claude Code is built in</li>
      <li>Open the app and click the <strong>Code</strong> tab in the top right to open Claude Code</li>
      <li>Point it at the project folder you cloned in Step 1</li>
    </ol>

    <div class="callout" style="border-color: var(--text-muted); background: var(--bg-warm);">
      <strong>Already comfortable with the terminal?</strong>
      You can also install Claude Code as a standalone CLI: <code>npm install -g @anthropic-ai/claude-code</code>, then run <code>claude</code> from your project directory. Same features, same skills &mdash; these instructions just assume the desktop app.
    </div>

    <h3>Run the setup wizard</h3>
    <p>Once Claude Code is open in your project folder, type:</p>
    <pre data-lang="claude code"><code>/setup-alpacapps-infra</code></pre>
    <p>Claude will ask you what you're building, which services you need, then walk you through the entire setup &mdash; creating your database, deploying edge functions, configuring webhooks, and building your <code>CLAUDE.md</code> (checked into repo) and <code>CLAUDE.local.md</code> (gitignored credentials). You don't need to read the rest of this guide unless you want to understand what's happening under the hood.</p>

    <div class="callout warning" style="font-size: 0.85rem;">
      <strong>Slash command not working?</strong>
      The <code>/setup-alpacapps-infra</code> skill requires the <strong>Max plan ($100/month)</strong> or higher. If you're on the Pro plan, type this instead:
      <pre data-lang="claude code" style="margin: 0.75rem 0 0.25rem 0;"><code>Read .claude/skills/setup-alpacapps-infra/SKILL.md and follow those instructions to set up my project</code></pre>
      This does the exact same thing &mdash; Claude reads the setup guide and walks you through it step by step.
    </div>

    <h3>What the rest of this guide is for</h3>
    <p>The sections below explain each service in detail. For each one, you:</p>
    <ol>
      <li><strong>You</strong> create the account and copy credentials (in your browser)</li>
      <li><strong>You</strong> give Claude the credentials (just paste them into the chat)</li>
      <li><strong>Claude</strong> handles everything else &mdash; updates your config files, installs CLIs, creates tables, writes edge functions, deploys, and pushes code</li>
    </ol>
    <p>You never need to edit files yourself. Just tell Claude what you want in plain English.</p>
    <div class="conversation">
      <div class="you">"Set up Supabase. Here are my credentials: project ref is abc123, anon key is eyJ..."</div>
      <div class="ai">installs Supabase CLI, links project, updates CLAUDE.md + CLAUDE.local.md, creates tables with RLS, creates storage buckets, commits and pushes</div>
    </div>
  </div>

  <!-- 3. Supabase -->
  <div class="section" id="supabase">
    <h2><img src="https://cdn.simpleicons.org/supabase" alt="Supabase" class="service-icon">3. Supabase <span class="cost-badge cost-free">Free</span></h2>
    <p>Database, storage, auth, and serverless edge functions &mdash; all in one.</p>

    <h3><span class="step-label step-you">You do (in your browser)</span></h3>
    <ol>
      <li>Sign up at <a href="https://supabase.com/dashboard" target="_blank">supabase.com/dashboard</a> (GitHub login works)</li>
      <li>Create a new project at <a href="https://supabase.com/dashboard/new/_" target="_blank">supabase.com/dashboard/new</a></li>
      <li>Set a <strong>database password</strong> &mdash; save this securely</li>
      <li>Choose a region close to your users, click <strong>Create new project</strong></li>
    </ol>

    <div class="callout" style="border-color: var(--accent); background: var(--accent-light);">
      <strong>Where to find your project ref:</strong> After your project is created, look at the URL in your browser&rsquo;s address bar. It will look like:<br>
      <code style="display:inline-block; margin: 0.5rem 0; font-size:0.9rem;">https://supabase.com/dashboard/project/<strong style="color:var(--accent);">abcdefghijk</strong>/...</code><br>
      The highlighted part (a random string of letters and numbers) is your <strong>project ref</strong>. You can also find it on your project&rsquo;s home page under <strong>Project Settings</strong> &rarr; <strong>General</strong>.
    </div>

    <p>Paste your project ref here &mdash; the links below will update so you can click straight to the right pages:</p>

    <div style="display: flex; gap: 0.75rem; align-items: center; margin: 1rem 0 1.5rem 0; flex-wrap: wrap;">
      <input type="text" id="supabase-ref" placeholder="e.g. abcdefghijk" style="font-family: inherit; font-size: 0.95rem; padding: 0.7rem 1rem; border: 2px solid var(--border); border-radius: 6px; width: 260px; outline: none; transition: border-color 0.2s; letter-spacing: 0.02em;" onfocus="this.style.borderColor='var(--accent)'" onblur="this.style.borderColor='var(--border)'" oninput="updateSupabaseLinks()">
    </div>

    <ol start="5">
      <li>Go to <strong>API settings</strong>: <a id="supabase-api-link" href="https://supabase.com/dashboard/project/_/settings/api" target="_blank">supabase.com/dashboard/project/<strong id="supabase-api-ref">___</strong>/settings/api</a> and copy:
        <ul>
          <li><strong>Project URL</strong> (e.g., <code>https://abcdefghijk.supabase.co</code>)</li>
          <li><strong>Anon public key</strong> (safe to embed in frontend &mdash; RLS protects your data)</li>
          <li><strong>Project ref</strong> (the <code>abcdefghijk</code> part of the URL)</li>
        </ul>
      </li>
      <li>Go to <strong>Database settings</strong>: <a id="supabase-db-link" href="https://supabase.com/dashboard/project/_/settings/database" target="_blank">supabase.com/dashboard/project/<strong id="supabase-db-ref">___</strong>/settings/database</a> &rarr; <strong>Connection string</strong> &rarr; <strong>Session pooler</strong> tab and copy it</li>
    </ol>

    <h3><span class="step-label step-paste">Give Claude these credentials</span></h3>
    <pre data-lang="markdown"><code>## Supabase Details
- Project ID: `<span class="supa-ref">YOUR_PROJECT_REF</span>`
- URL: `https://<span class="supa-ref">YOUR_PROJECT_REF</span>.supabase.co`
- Anon key: `your-anon-key-here`
- Database password: `your-db-password`

### Direct Database Access (for Claude)
Session pooler connection string (paste yours from Database settings):
psql "postgres://postgres.<span class="supa-ref">YOUR_PROJECT_REF</span>:YOUR_URL_ENCODED_PASSWORD@aws-0-REGION.pooler.supabase.com:5432/postgres" -c "SQL HERE"

URL-encode special characters in password (! = %21, @ = %40).

### Supabase CLI Access (for Claude)
If CLI not installed: npm install -g supabase &amp;&amp; supabase login &amp;&amp; supabase link --project-ref <span class="supa-ref">YOUR_PROJECT_REF</span>
supabase functions deploy &lt;function-name&gt;
supabase secrets set KEY=value

For Claude: Run these directly. Don't ask the user.</code></pre>

    <h3><span class="step-label step-claude">Then tell Claude</span></h3>
    <div class="callout claude" style="position: relative;">
      <strong>"Set up my Supabase project. Install the CLI, link it, create the core database tables for [your domain], enable RLS on all tables, and create storage buckets for photos and documents."</strong>
      <button onclick="copyPrompt(this)" class="copy-prompt">Copy</button>
      <span class="claude-detail">Claude will install the CLI, login, link, create <code>shared/supabase.js</code>, run SQL for tables + RLS + storage policies, commit, and push.</span>
    </div>
  </div>

  <!-- 4. Google Auth -->
  <div class="section" id="google-auth">
    <h2><img src="https://cdn.simpleicons.org/google" alt="Google" class="service-icon">4. Google Sign-In (Optional) <span class="cost-badge cost-free">Free</span></h2>
    <p>If your app needs user login (admin dashboard, customer accounts, etc.), the easiest option is &ldquo;Sign in with Google.&rdquo; Supabase has built-in support &mdash; you just need to create a Google Cloud project and get OAuth credentials.</p>

    <div class="callout" style="border-color: var(--accent); background: var(--accent-light);">
      <strong>Same Google Cloud project:</strong> This step and <a href="#gemini">Step 9 (Google Gemini)</a> both use Google Cloud. Create <strong>one project</strong> and use it for both &mdash; no need to set up two.
    </div>

    <h3><span class="step-label step-you">1. Create a Google Cloud project</span></h3>
    <ol>
      <li>Go to <a href="https://console.cloud.google.com/projectcreate" target="_blank">console.cloud.google.com &rarr; New Project</a></li>
      <li>Name it anything (e.g., &ldquo;My Salon App&rdquo;) and click <strong>Create</strong></li>
      <li>Make sure the new project is selected in the top-left dropdown</li>
    </ol>

    <h3><span class="step-label step-you">2. Set up the OAuth consent screen</span></h3>
    <p>This is the screen users see when they click &ldquo;Sign in with Google.&rdquo;</p>
    <ol>
      <li>Go to <a href="https://console.cloud.google.com/apis/credentials/consent" target="_blank">APIs &amp; Services &rarr; OAuth consent screen</a></li>
      <li>Choose <strong>External</strong> (unless you&rsquo;re on Google Workspace and only want internal users) &rarr; click <strong>Create</strong></li>
      <li>Fill in the required fields:
        <ul>
          <li><strong>App name:</strong> your app&rsquo;s name (what users see)</li>
          <li><strong>User support email:</strong> your email</li>
          <li><strong>Developer contact email:</strong> your email</li>
        </ul>
      </li>
      <li>Click <strong>Save and Continue</strong> through the Scopes, Test Users, and Summary steps (defaults are fine)</li>
    </ol>

    <div class="callout" style="border-color: var(--text-muted); background: var(--bg-warm);">
      <strong>Publishing status:</strong> Your app starts in &ldquo;Testing&rdquo; mode, which means only test users you add can sign in. To let anyone sign in, click <strong>Publish App</strong> on the consent screen page. Google may ask you to verify your app if you use sensitive scopes, but basic sign-in (email/profile) doesn&rsquo;t require verification.
    </div>

    <h3><span class="step-label step-you">3. Create OAuth credentials</span></h3>
    <ol>
      <li>Go to <a href="https://console.cloud.google.com/apis/credentials" target="_blank">APIs &amp; Services &rarr; Credentials</a></li>
      <li>Click <strong>+ Create Credentials</strong> &rarr; <strong>OAuth client ID</strong></li>
      <li>Application type: <strong>Web application</strong></li>
      <li>Name: anything (e.g., &ldquo;Supabase Auth&rdquo;)</li>
      <li>Under <strong>Authorized redirect URIs</strong>, add:
        <pre><code>https://<span class="supa-ref">YOUR_PROJECT_REF</span>.supabase.co/auth/v1/callback</code></pre>
      </li>
      <li>Click <strong>Create</strong> and copy the <strong>Client ID</strong> and <strong>Client Secret</strong></li>
    </ol>

    <h3><span class="step-label step-you">4. Connect to Supabase</span></h3>
    <ol>
      <li>Go to your Supabase dashboard &rarr; <a id="supabase-auth-link" href="https://supabase.com/dashboard/project/_/auth/providers" target="_blank">Authentication &rarr; Providers</a></li>
      <li>Find <strong>Google</strong> in the list and toggle it <strong>on</strong></li>
      <li>Paste your <strong>Client ID</strong> and <strong>Client Secret</strong></li>
      <li>Click <strong>Save</strong></li>
    </ol>

    <h3><span class="step-label step-paste">Give Claude these credentials</span></h3>
    <pre data-lang="markdown"><code>### Authentication (Google OAuth via Supabase)
- Google Client ID: `your-client-id.apps.googleusercontent.com`
- Auth is handled by Supabase Auth (no edge function needed)
- Redirect URI: `https://<span class="supa-ref">YOUR_PROJECT_REF</span>.supabase.co/auth/v1/callback`
- Sign-in method: supabase.auth.signInWithOAuth({ provider: 'google' })</code></pre>

    <h3><span class="step-label step-claude">Then tell Claude</span></h3>
    <div class="callout claude" style="position: relative;">
      <strong>"Set up Google Sign-In. Create a login page with a 'Sign in with Google' button using Supabase Auth, and add an auth check to the admin pages so only authenticated users can access them."</strong>
      <button onclick="copyPrompt(this)" class="copy-prompt">Copy</button>
      <span class="claude-detail">Claude will create <code>shared/auth.js</code>, add login/logout UI, set up auth guards on admin pages, commit, and push.</span>
    </div>
  </div>

  <!-- 5. Resend -->
  <div class="section" id="resend">
    <h2><img src="https://cdn.simpleicons.org/resend" alt="Resend" class="service-icon">5. Resend (Email) <span class="cost-badge cost-free">Free</span></h2>

    <h3><span class="step-label step-you">You do (in your browser)</span></h3>
    <ol>
      <li>Sign up at <a href="https://resend.com/signup" target="_blank">resend.com/signup</a> (free: 3,000 emails/month)</li>
      <li><strong>Recommended:</strong> Add your domain at <a href="https://resend.com/domains" target="_blank">resend.com/domains</a> and set up DNS records. Without this, you can only send from <code>onboarding@resend.dev</code>.</li>
      <li>Create an API key at <a href="https://resend.com/api-keys" target="_blank">resend.com/api-keys</a> and copy it</li>
    </ol>

    <h3><span class="step-label step-paste">Give Claude these credentials</span></h3>
    <pre data-lang="markdown"><code>### Email (Resend)
- API key: `re_your_key_here` (store as Supabase secret: RESEND_API_KEY)
- From address: notifications@yourdomain.com (or onboarding@resend.dev)</code></pre>

    <h3><span class="step-label step-claude">Then tell Claude</span></h3>
    <div class="callout claude" style="position: relative;">
      <strong>"Set up email sending with Resend. Store the API key as a Supabase secret and create a send-email edge function."</strong>
      <button onclick="copyPrompt(this)" class="copy-prompt">Copy</button>
      <span class="claude-detail">Claude will run <code>supabase secrets set</code>, create the edge function, deploy it, commit, and push.</span>
    </div>
  </div>

  <!-- 6. Telnyx -->
  <div class="section" id="telnyx">
    <h2><img src="https://www.google.com/s2/favicons?sz=64&amp;domain=telnyx.com" alt="Telnyx" class="service-icon">6. Telnyx (SMS) <span class="cost-badge cost-payg">Pay-as-you-go</span></h2>

    <h3><span class="step-label step-you">You do (in your browser)</span></h3>
    <ol>
      <li>Sign up at <a href="https://telnyx.com/sign-up" target="_blank">telnyx.com/sign-up</a> and add a payment method</li>
      <li>Buy an SMS-capable number at <a href="https://portal.telnyx.com/#/app/numbers/search-numbers" target="_blank">portal.telnyx.com &rarr; Numbers</a> (~$1/month)</li>
      <li>Note the phone number in E.164 format (e.g., <code>+12125551234</code>)</li>
      <li>Create a Messaging Profile at <a href="https://portal.telnyx.com/#/app/messaging" target="_blank">portal.telnyx.com &rarr; Messaging</a></li>
      <li>Set inbound webhook URL:
        <pre><code>https://<span class="supa-ref">YOUR_PROJECT_REF</span>.supabase.co/functions/v1/telnyx-webhook</code></pre>
      </li>
      <li>Assign your phone number to this profile, note the <strong>Messaging Profile ID</strong></li>
      <li>Get your API key at <a href="https://portal.telnyx.com/#/app/api-keys" target="_blank">portal.telnyx.com &rarr; API Keys</a> and copy it</li>
    </ol>

    <div class="callout warning">
      <strong>10DLC Registration (Required for US) &mdash; do this now, it takes time.</strong>
      Go to <a href="https://portal.telnyx.com/#/app/messaging/compliance" target="_blank">Messaging &rarr; Compliance</a>. Create a Brand (Sole Proprietor), then a Campaign (use case: business notifications). Assign your number. Approval can take days to weeks &mdash; SMS won't work without it.
    </div>

    <h3><span class="step-label step-paste">Give Claude these credentials</span></h3>
    <pre data-lang="markdown"><code>### SMS (Telnyx)
- API key: `KEY_your_key_here`
- Messaging Profile ID: `your-profile-id`
- Phone number: `+12125551234`
- Config stored in `telnyx_config` table
- Edge functions: `send-sms` (outbound), `telnyx-webhook` (inbound)
- Deploy webhook with `--no-verify-jwt`
- Auth: Bearer token (NOT Basic auth like Twilio)
- API: https://api.telnyx.com/v2/messages</code></pre>

    <h3><span class="step-label step-claude">Then tell Claude</span></h3>
    <div class="callout claude" style="position: relative;">
      <strong>"Set up Telnyx SMS. Create the telnyx_config and sms_messages tables, write the send-sms and telnyx-webhook edge functions, and deploy with --no-verify-jwt."</strong>
      <button onclick="copyPrompt(this)" class="copy-prompt">Copy</button>
      <span class="claude-detail">Claude will create tables, insert config, write both edge functions, deploy, create <code>shared/sms-service.js</code>, commit, and push.</span>
    </div>
  </div>

  <!-- 7. Square -->
  <div class="section" id="square">
    <h2><img src="https://cdn.simpleicons.org/square" alt="Square" class="service-icon">7. Square (Payments) <span class="cost-badge cost-payg">Pay-as-you-go</span></h2>

    <h3><span class="step-label step-you">You do (in your browser)</span></h3>
    <ol>
      <li>Sign up at <a href="https://squareup.com/signup" target="_blank">squareup.com/signup</a></li>
      <li>Create an app at <a href="https://developer.squareup.com/console/en/apps" target="_blank">developer.squareup.com/console &rarr; Apps</a></li>
      <li>Copy from the Developer Dashboard:
        <ul>
          <li><strong>Application ID</strong> (starts with <code>sq0idp-</code>)</li>
          <li><strong>Access Token</strong> &mdash; Sandbox for testing, Production for real charges</li>
          <li><strong>Location ID</strong> &mdash; Square Dashboard &rarr; Locations</li>
        </ul>
      </li>
    </ol>

    <h3><span class="step-label step-paste">Give Claude these credentials</span></h3>
    <pre data-lang="markdown"><code>### Payments (Square)
- Application ID: `sq0idp-your-app-id`
- Sandbox Access Token: `your-sandbox-token`
- Location ID: `your-location-id`
- Environment: sandbox (switch to production when ready)
- Config stored in `square_config` table
- Edge function: `process-square-payment`
- Sandbox SDK: https://sandbox.web.squarecdn.com/v1/square.js
- Production SDK: https://web.squarecdn.com/v1/square.js</code></pre>

    <h3><span class="step-label step-claude">Then tell Claude</span></h3>
    <div class="callout claude" style="position: relative;">
      <strong>"Set up Square payment processing. Create the config and payments tables, a process-square-payment edge function, and a client-side square-service.js module."</strong>
      <button onclick="copyPrompt(this)" class="copy-prompt">Copy</button>
      <span class="claude-detail">Claude will create tables, insert config, write the edge function + client module, deploy, commit, and push.</span>
    </div>
  </div>

  <!-- 8. SignWell -->
  <div class="section" id="signwell">
    <h2><img src="https://www.google.com/s2/favicons?sz=64&amp;domain=signwell.com" alt="SignWell" class="service-icon">8. SignWell (E-Signatures) <span class="cost-badge cost-free">Free</span></h2>

    <h3><span class="step-label step-you">You do (in your browser)</span></h3>
    <ol>
      <li>Sign up at <a href="https://www.signwell.com/sign_up/" target="_blank">signwell.com/sign_up</a> (free: 3 docs/month, 25 with credit card)</li>
      <li>Copy your API key at <a href="https://www.signwell.com/app/settings/api" target="_blank">signwell.com &rarr; Settings &rarr; API</a></li>
      <li>Add a webhook at <a href="https://www.signwell.com/app/settings/webhooks" target="_blank">signwell.com &rarr; Settings &rarr; Webhooks</a>:
        <pre><code>https://<span class="supa-ref">YOUR_PROJECT_REF</span>.supabase.co/functions/v1/signwell-webhook</code></pre>
      </li>
      <li>Subscribe to the <code>document_completed</code> event</li>
    </ol>

    <h3><span class="step-label step-paste">Give Claude these credentials</span></h3>
    <pre data-lang="markdown"><code>### E-Signatures (SignWell)
- API key: `your-signwell-api-key`
- API base: https://www.signwell.com/api/v1
- Auth: X-Api-Key header
- Config stored in `signwell_config` table
- Deploy webhook with `--no-verify-jwt`</code></pre>

    <h3><span class="step-label step-claude">Then tell Claude</span></h3>
    <div class="callout claude" style="position: relative;">
      <strong>"Set up SignWell for e-signatures. Create the config table, a webhook edge function, and client-side signwell-service.js and pdf-service.js modules."</strong>
      <button onclick="copyPrompt(this)" class="copy-prompt">Copy</button>
      <span class="claude-detail">Claude will create the table, insert config, write and deploy the webhook, create client modules, commit, and push.</span>
    </div>
  </div>

  <!-- 9. Gemini -->
  <div class="section" id="gemini">
    <h2><img src="https://cdn.simpleicons.org/googlegemini" alt="Google Gemini" class="service-icon">9. Google Gemini (AI Matching) <span class="cost-badge cost-free">Free</span></h2>
    <p>Optional. Useful for fuzzy matching (e.g., matching bank transaction sender names to tenants).</p>

    <div class="callout" style="border-color: var(--accent); background: var(--accent-light);">
      <strong>Already set up Google Sign-In?</strong> You already have a Google Cloud project from <a href="#google-auth">Step 4</a>. Use the same project &mdash; just grab a Gemini API key below.
    </div>

    <h3><span class="step-label step-you">You do (in your browser)</span></h3>
    <ol>
      <li>Get a free API key at <a href="https://aistudio.google.com/apikey" target="_blank">aistudio.google.com/apikey</a></li>
    </ol>

    <h3><span class="step-label step-paste">Give Claude these credentials</span></h3>
    <pre data-lang="markdown"><code>### AI Matching (Google Gemini)
- API key: `your-gemini-key` (store as Supabase secret: GEMINI_API_KEY)</code></pre>

    <h3><span class="step-label step-claude">Then tell Claude</span></h3>
    <div class="callout claude" style="position: relative;">
      <strong>"Store my Gemini API key as a Supabase secret."</strong>
      <button onclick="copyPrompt(this)" class="copy-prompt">Copy</button>
      <span class="claude-detail">Claude will run: <code>supabase secrets set GEMINI_API_KEY=your_key_here</code></span>
    </div>
  </div>

  <!-- 10. Discord -->
  <div class="section" id="discord">
    <h2><img src="https://cdn.simpleicons.org/discord" alt="Discord" class="service-icon">10. Discord Bot (Optional)</h2>

    <h3><span class="step-label step-you">You do (in your browser)</span></h3>
    <ol>
      <li>Go to <a href="https://discord.com/developers/applications" target="_blank">discord.com/developers/applications</a></li>
      <li>Create a <strong>New Application</strong></li>
      <li>Go to <strong>Bot</strong> &rarr; <strong>Add Bot</strong>, copy the bot token</li>
      <li>Host on a $4/month DigitalOcean droplet (or free tier on Railway / Render)</li>
      <li>The bot queries Supabase directly using the REST API</li>
    </ol>
  </div>

  <!-- 11. Custom Domain -->
  <div class="section" id="domain">
    <h2>11. Custom Domain (Optional)</h2>

    <div class="callout" style="border-color: var(--text-muted); background: var(--bg-warm);">
      <strong>No rush on this step.</strong> Your site is already live at <code>https://&lt;username&gt;.github.io/&lt;project-name&gt;/</code> and that works great while you&rsquo;re building. Come back to this when you&rsquo;re ready to share your app with the world under your own brand name.
    </div>

    <h3><span class="step-label step-you">1. Buy a domain</span></h3>
    <p>If you don&rsquo;t already own one, buy a domain from any registrar. Here are popular options:</p>
    <ul>
      <li><a href="https://www.namecheap.com" target="_blank">Namecheap</a> &mdash; ~$9/year for a <code>.com</code></li>
      <li><a href="https://www.cloudflare.com/products/registrar/" target="_blank">Cloudflare Registrar</a> &mdash; at-cost pricing, no markup</li>
      <li><a href="https://domains.squarespace.com" target="_blank">Squarespace Domains</a> (formerly Google Domains) &mdash; ~$12/year</li>
    </ul>

    <h3><span class="step-label step-you">2. Tell GitHub about your domain</span></h3>
    <ol>
      <li>Go to your repo on GitHub</li>
      <li>Click <strong>Settings</strong> &rarr; <strong>Pages</strong> (left sidebar)</li>
      <li>Under <strong>Custom domain</strong>, type your domain (e.g., <code>myapp.com</code>) and click <strong>Save</strong></li>
      <li>GitHub will show a message that a DNS check is pending &mdash; that&rsquo;s normal until you complete step 3</li>
    </ol>

    <h3><span class="step-label step-you">3. Point your domain to GitHub Pages (DNS settings)</span></h3>
    <p>This is the key step: you need to tell your domain registrar to send traffic to GitHub&rsquo;s servers. The exact screens look a little different at each registrar, but you&rsquo;re doing the same thing everywhere.</p>

    <p><strong>Find your DNS settings:</strong></p>
    <ul>
      <li><strong>Namecheap:</strong> Dashboard &rarr; click <strong>Manage</strong> next to your domain &rarr; <strong>Advanced DNS</strong> tab</li>
      <li><strong>Cloudflare:</strong> Select your domain &rarr; <strong>DNS</strong> &rarr; <strong>Records</strong></li>
      <li><strong>Squarespace Domains:</strong> Domains panel &rarr; click your domain &rarr; <strong>DNS</strong> &rarr; <strong>DNS Settings</strong></li>
    </ul>

    <p><strong>Add these records:</strong></p>
    <table>
      <thead><tr><th>Type</th><th>Name / Host</th><th>Value / Points to</th></tr></thead>
      <tbody>
        <tr><td><code>A</code></td><td><code>@</code></td><td><code>185.199.108.153</code></td></tr>
        <tr><td><code>A</code></td><td><code>@</code></td><td><code>185.199.109.153</code></td></tr>
        <tr><td><code>A</code></td><td><code>@</code></td><td><code>185.199.110.153</code></td></tr>
        <tr><td><code>A</code></td><td><code>@</code></td><td><code>185.199.111.153</code></td></tr>
        <tr><td><code>CNAME</code></td><td><code>www</code></td><td><code>&lt;username&gt;.github.io</code></td></tr>
      </tbody>
    </table>

    <div class="callout">
      <strong>What do these mean?</strong>
      <ul style="margin: 0.5rem 0 0 0; padding-left: 1.25rem;">
        <li>The four <strong>A records</strong> tell browsers &ldquo;when someone types <code>myapp.com</code>, go to GitHub&rsquo;s servers.&rdquo;</li>
        <li>The <strong>CNAME record</strong> makes <code>www.myapp.com</code> work too, by pointing it to your GitHub Pages address.</li>
        <li>The <code>@</code> symbol means &ldquo;the root domain&rdquo; (i.e., <code>myapp.com</code> with nothing in front of it).</li>
      </ul>
    </div>

    <p>If your registrar already has default records (like parking page records), delete those first, then add the ones above.</p>

    <h3><span class="step-label step-you">4. Turn on HTTPS</span></h3>
    <ol>
      <li>Wait 5&ndash;30 minutes for DNS changes to propagate (sometimes up to 24 hours)</li>
      <li>Go back to your repo&rsquo;s <strong>Settings</strong> &rarr; <strong>Pages</strong></li>
      <li>The DNS check should now show a green checkmark</li>
      <li>Check the box for <strong>Enforce HTTPS</strong> &mdash; GitHub provides a free SSL certificate automatically</li>
    </ol>

    <h3>How do I know it&rsquo;s working?</h3>
    <p>Visit your domain in a browser. If you see your site, you&rsquo;re done. If not:</p>
    <ul>
      <li>Double-check that you entered the A record IPs exactly as shown above</li>
      <li>Make sure you deleted any old/default DNS records that might conflict</li>
      <li>DNS changes can take up to 24 hours to fully propagate &mdash; wait and try again</li>
      <li>Use <a href="https://dnschecker.org" target="_blank">dnschecker.org</a> to verify your records are visible worldwide</li>
    </ul>
  </div>

  <!-- 12. CLAUDE.md Templates -->
  <div class="section" id="template">
    <h2>12. CLAUDE.md Templates</h2>
    <p>Claude Code uses two files for project context: <code>CLAUDE.md</code> (checked into the repo) for shareable project context, and <code>CLAUDE.local.md</code> (gitignored) for credentials and operator directives. Enter your project name and download both.</p>

    <div style="display: flex; gap: 0.75rem; align-items: center; margin: 1.5rem 0; flex-wrap: wrap;">
      <input type="text" id="project-name-input" placeholder="My Project Name" style="font-family: inherit; font-size: 0.95rem; padding: 0.7rem 1rem; border: 2px solid var(--border); border-radius: 6px; width: 260px; outline: none; transition: border-color 0.2s;" onfocus="this.style.borderColor='var(--accent)'" onblur="this.style.borderColor='var(--border)'">
      <button onclick="downloadClaudeMd()" style="display: inline-flex; align-items: center; gap: 0.5rem; background: var(--text); color: #ffffff; padding: 0.7rem 1.5rem; border-radius: 6px; font-weight: 600; font-size: 0.95rem; border: none; cursor: pointer; font-family: inherit; transition: background 0.2s;" onmouseover="this.style.background='#333'" onmouseout="this.style.background='var(--text)'">&darr;&ensp;CLAUDE.md</button>
      <button onclick="downloadClaudeLocalMd()" style="display: inline-flex; align-items: center; gap: 0.5rem; background: var(--text); color: #ffffff; padding: 0.7rem 1.5rem; border-radius: 6px; font-weight: 600; font-size: 0.95rem; border: none; cursor: pointer; font-family: inherit; transition: background 0.2s;" onmouseover="this.style.background='#333'" onmouseout="this.style.background='var(--text)'">&darr;&ensp;CLAUDE.local.md</button>
    </div>

    <p><strong><code>CLAUDE.md</code></strong> (checked in) includes:</p>
    <ul>
      <li>Project overview and tech stack</li>
      <li>Architecture and key files</li>
      <li>Database schema and common patterns</li>
      <li>Deployment workflow (push to main = live)</li>
      <li>External systems overview (no credentials)</li>
      <li>Coding conventions</li>
    </ul>

    <p><strong><code>CLAUDE.local.md</code></strong> (gitignored) includes:</p>
    <ul>
      <li>Operator directives (push immediately, direct DB access, version bumping)</li>
      <li>Supabase project ref, URL, psql connection string</li>
      <li>Live URLs (GitHub Pages)</li>
      <li>External service credentials: Resend, Telnyx, Square, SignWell</li>
      <li>Server access (DigitalOcean SSH, bot user)</li>
    </ul>

    <div class="callout">
      <strong>Tip:</strong> The setup wizard (Step 2) builds both files for you automatically as it sets up each service. Don't forget to add <code>CLAUDE.local.md</code> to your <code>.gitignore</code>.
    </div>
  </div>

  <!-- 13. Day-One Checklist -->
  <div class="section" id="checklist">
    <h2>13. Day-One Checklist</h2>

    <h3><span class="step-label step-you">You do (in your browser)</span></h3>

    <p><strong>Core Stack &mdash; Free:</strong></p>
    <ul class="checklist">
      <li>Create GitHub account and repository</li>
      <li>Enable GitHub Pages on the repo</li>
      <li>Create Supabase account and project</li>
      <li>Copy: project ref, anon key, DB password, and session pooler connection string</li>
    </ul>

    <p><strong>User Login &mdash; Free (Google OAuth):</strong></p>
    <ul class="checklist">
      <li>Create Google Cloud project</li>
      <li>Set up OAuth consent screen (publish when ready)</li>
      <li>Create OAuth client ID (Web application)</li>
      <li>Add Supabase callback URL as authorized redirect URI</li>
      <li>Enable Google provider in Supabase Auth settings</li>
      <li>Copy: Client ID, Client Secret</li>
    </ul>

    <p><strong>Email &mdash; Free (Resend):</strong></p>
    <ul class="checklist">
      <li>Create Resend account</li>
      <li>Verify your domain (or use <code>onboarding@resend.dev</code>)</li>
      <li>Copy: API key</li>
    </ul>

    <p><strong>SMS &mdash; Pay-as-you-go (Telnyx):</strong></p>
    <ul class="checklist">
      <li>Create Telnyx account, add payment method</li>
      <li>Buy a phone number (~$1/month)</li>
      <li>Create Messaging Profile, assign number, set webhook URL</li>
      <li>Register for 10DLC (mandatory for US &mdash; do early, approval takes time)</li>
      <li>Copy: API key, Messaging Profile ID, phone number</li>
    </ul>

    <p><strong>Payments &mdash; Free until you process (Square):</strong></p>
    <ul class="checklist">
      <li>Create Square developer account and application</li>
      <li>Copy: Application ID, sandbox access token, location ID</li>
    </ul>

    <p><strong>E-Signatures &mdash; Free tier (SignWell):</strong></p>
    <ul class="checklist">
      <li>Create SignWell account</li>
      <li>Set up webhook URL in Settings</li>
      <li>Copy: API key</li>
    </ul>

    <p><strong>Optional:</strong></p>
    <ul class="checklist">
      <li>Custom domain for GitHub Pages</li>
      <li>Google Gemini API key (<a href="https://aistudio.google.com" target="_blank">aistudio.google.com</a>)</li>
      <li>Discord developer application + bot token</li>
    </ul>

    <h3><span class="step-label step-claude">Then tell Claude</span></h3>
    <p>Once you've given Claude your credentials, tell it to set everything up. You can either use the setup skill or paste this prompt:</p>

    <div class="callout claude" style="position: relative;">
      <strong>"I've set up all my vendor accounts. Please:
      <ol style="margin-top: 0.5rem; margin-bottom: 0;">
        <li>Set up the project structure and push to GitHub</li>
        <li>Install and link the Supabase CLI</li>
        <li>Create the database tables I need for [your domain]</li>
        <li>Set up email sending with Resend</li>
        <li>Set up SMS with Telnyx</li>
        <li>Set up payment processing with Square</li>
        <li>Set up e-signatures with SignWell</li>
        <li>Deploy all edge functions and store API keys as secrets"</li>
      </ol></strong>
      <button onclick="copyPrompt(this)" class="copy-prompt">Copy</button>
    </div>

    <p>Or just type <code>/setup-alpacapps-infra</code> in Claude Code &mdash; the skill walks through the same setup interactively, asking what services you need as it goes.</p>

    <p>Claude handles everything from there &mdash; creating tables, writing edge functions, deploying, setting secrets, committing, and pushing. You never need to touch the terminal yourself.</p>
  </div>

  <!-- 14. Mobile App -->
  <div class="section" id="mobile">
    <h2>14. Mobile App (iOS &amp; Android) <span class="cost-badge cost-free">Free to develop</span></h2>
    <p>The mobile app wraps the same web codebase in a native shell using <strong>Capacitor 8</strong>. Residents get a native app experience (home screen icon, push notifications, no browser chrome) while you maintain a single codebase.</p>

    <h3>How It Works</h3>
    <div class="arch-diagram">Web App (HTML/CSS/JS) &rarr; Capacitor WebView &rarr; Native iOS / Android App
                                    &darr;
                          Same Supabase backend as web</div>
    <p>Capacitor takes your existing web code, loads it inside a native WebView, and gives you access to native device APIs (push notifications, camera, status bar) through JavaScript plugins. There's no need to learn Swift or Kotlin &mdash; your web skills are all you need.</p>

    <h3>Tech Stack</h3>
    <table>
      <thead><tr><th>Layer</th><th>Technology</th><th>Notes</th></tr></thead>
      <tbody>
        <tr><td>Native shell</td><td>Capacitor 8</td><td>Wraps web content in native WebView</td></tr>
        <tr><td>UI</td><td>Vanilla HTML/CSS/JS</td><td>Dark theme, bottom tab bar, no framework needed</td></tr>
        <tr><td>Auth</td><td>Supabase Auth</td><td>Inline email/password + Google OAuth</td></tr>
        <tr><td>Data</td><td>Supabase JS SDK</td><td>Same client as web app</td></tr>
        <tr><td>OTA Updates</td><td>@capgo/capacitor-updater</td><td>Push code updates without App Store review</td></tr>
        <tr><td>Push Notifications</td><td>@capacitor/push-notifications</td><td>FCM (Android) + APNs (iOS)</td></tr>
      </tbody>
    </table>

    <h3>Development Tools</h3>
    <table>
      <thead><tr><th>Platform</th><th>IDE</th><th>Requirements</th></tr></thead>
      <tbody>
        <tr><td>iOS</td><td>Xcode 15+</td><td>macOS only, free from App Store. Apple Developer account ($99/year) for App Store distribution</td></tr>
        <tr><td>Android</td><td>Android Studio</td><td>macOS, Windows, or Linux. Google Play Console ($25 one-time) for Play Store distribution</td></tr>
      </tbody>
    </table>

    <h3>On the Phone</h3>
    <table>
      <thead><tr><th>Platform</th><th>Runtime</th><th>Min Version</th></tr></thead>
      <tbody>
        <tr><td>iPhone / iPad</td><td>WKWebView (Safari engine)</td><td>iOS 16+</td></tr>
        <tr><td>Android</td><td>Android WebView (Chromium engine)</td><td>Android 6.0+ (API 23)</td></tr>
      </tbody>
    </table>
    <p>On iOS, the app runs inside Apple's WKWebView (same engine as Safari). On Android, it uses the system WebView powered by Chromium. Both provide near-native performance for web content.</p>

    <h3>Build &amp; Deploy</h3>
    <div class="step-label step-claude">Claude does this</div>
    <p>Claude Code handles the build process. The workflow is:</p>
    <ol>
      <li><strong>Build web assets</strong> &mdash; A script (<code>copy-web.js</code>) copies your web files into the mobile project, injects <code>capacitor.js</code>, and patches any redirect-based navigation</li>
      <li><strong>Sync to native</strong> &mdash; <code>npm run sync</code> from the <code>mobile/</code> directory copies web assets into the iOS and Android native projects</li>
      <li><strong>Run on device</strong> &mdash; Open Xcode (iOS) or Android Studio (Android) and press Play</li>
    </ol>
<pre><code># From the mobile/ directory:
npm run sync          # Build + sync to both platforms
npm run open:ios      # Open Xcode &mdash; press Play to run
npm run open:android  # Open Android Studio &mdash; press Run</code></pre>

    <h3>Key Design Decisions</h3>
    <ul>
      <li><strong>Single codebase</strong> &mdash; Web and mobile share the same data services (<code>shared/services/</code>). Write once, runs on web + iOS + Android</li>
      <li><strong>No framework required</strong> &mdash; Vanilla JS with CSS-based tab switching. No React Native, no Flutter, no Swift/Kotlin to learn</li>
      <li><strong>Lazy-loaded tabs</strong> &mdash; Each tab module loads on first visit via dynamic <code>import()</code>, keeping startup fast</li>
      <li><strong>OTA updates</strong> &mdash; After the initial App Store submission, code changes (HTML/CSS/JS) can be pushed live instantly via Capgo &mdash; no App Store review wait</li>
      <li><strong>Inline login</strong> &mdash; Capacitor WebView can't handle multi-page redirects, so the mobile app uses an inline login form instead of a separate login page</li>
    </ul>

  </div>

  <!-- Cost Summary -->
  <div class="section">
    <h2>Cost Summary</h2>

    <h3>Infrastructure</h3>
    <table>
      <thead><tr><th>Service</th><th>Monthly Cost</th><th>Notes</th></tr></thead>
      <tbody>
        <tr><td>GitHub Pages</td><td><span class="cost-badge cost-free">$0</span></td><td>Unlimited for public repos</td></tr>
        <tr><td>Supabase</td><td><span class="cost-badge cost-free">$0</span></td><td>Free tier: 500 MB DB, 1 GB storage</td></tr>
        <tr><td>Resend</td><td><span class="cost-badge cost-free">$0</span></td><td>3,000 emails/month free</td></tr>
        <tr><td>Telnyx</td><td><span class="cost-badge cost-payg">~$1</span></td><td>Phone number + $0.004/SMS</td></tr>
        <tr><td>Square</td><td><span class="cost-badge cost-payg">2.9% + 30&cent;</span></td><td>Per transaction, no monthly fee</td></tr>
        <tr><td>SignWell</td><td><span class="cost-badge cost-free">$0</span></td><td>3&ndash;25 docs/month free</td></tr>
        <tr><td>Google Gemini</td><td><span class="cost-badge cost-free">$0</span></td><td>Free tier available</td></tr>
        <tr><td>Custom domain</td><td><span class="cost-badge cost-payg">~$1</span></td><td>~$10/year, optional</td></tr>
        <tr><td><strong>Claude Code</strong></td><td><span class="cost-badge cost-payg">$0&ndash;$200</span></td><td>Free tier available. Pro $20, Max $100, Max+ $200 for intensive development</td></tr>
      </tbody>
    </table>

    <h3>Mobile App</h3>
    <table>
      <thead><tr><th>Item</th><th>Cost</th><th>Notes</th></tr></thead>
      <tbody>
        <tr><td>Capacitor (development)</td><td><span class="cost-badge cost-free">$0</span></td><td>Open source, free to develop</td></tr>
        <tr><td>Apple App Store</td><td><span class="cost-badge cost-payg">$99/year</span></td><td>Apple Developer Program membership</td></tr>
        <tr><td>Google Play Store</td><td><span class="cost-badge cost-payg">$25 one-time</span></td><td>Google Play Console registration</td></tr>
        <tr><td>Capgo OTA Updates</td><td><span class="cost-badge cost-free">$0</span></td><td>Free tier: 500 devices, 4 GB bandwidth</td></tr>
      </tbody>
    </table>

    <div class="callout success">
      <strong>$0/month for the infrastructure.</strong> While Claude Code is free to start, any meaningful features will require at least the $20/month plan. The $100/month plan will support all your work for the first few months, after which you may be able to downgrade. SMS and payments are pay-as-you-go with no minimums. Mobile app distribution adds $99/year (Apple) + $25 one-time (Google).
    </div>
  </div>

</div>

<script>
// Copy prompt text from "Then tell Claude" callouts
function copyPrompt(btn) {
  var callout = btn.closest('.callout');
  var strong = callout.querySelector('strong');
  // Get just the text from the strong element (the quoted prompt)
  var text = strong.textContent.replace(/^\s+|\s+$/g, '').replace(/\s+/g, ' ');
  // Remove surrounding quotes if present
  text = text.replace(/^[""]|[""]$/g, '').trim();
  navigator.clipboard.writeText(text).then(function() {
    btn.textContent = 'Copied!';
    setTimeout(function() { btn.textContent = 'Copy'; }, 2000);
  });
}

// Clone commands with dynamic project name
function updateCloneCommands() {
  var username = document.getElementById('github-username').value.trim() || 'USERNAME';
  var name = document.getElementById('clone-project-name').value.trim() || 'my-salon-app';
  var slug = name.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');
  document.getElementById('clone-commands').textContent =
    'git clone https://github.com/' + username + '/' + slug + '.git\ncd ' + slug;
  // Clear previous check result when name changes
  document.getElementById('repo-check-result').textContent = '';
}
function copyCloneCommands() {
  var text = document.getElementById('clone-commands').textContent;
  navigator.clipboard.writeText(text).then(function() {
    var btn = document.querySelector('#clone-commands + button');
    btn.textContent = 'Copied!';
    setTimeout(function() { btn.textContent = 'Copy'; }, 2000);
  });
}
function checkRepoName() {
  var username = document.getElementById('github-username').value.trim();
  var name = document.getElementById('clone-project-name').value.trim();
  var result = document.getElementById('repo-check-result');
  if (!username) { result.innerHTML = '<span style="color:var(--text-muted);">Enter your GitHub username first.</span>'; return; }
  if (!name) { result.innerHTML = '<span style="color:var(--text-muted);">Enter a project name first.</span>'; return; }
  var slug = name.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');
  result.innerHTML = '<span style="color:var(--text-muted);">Checking...</span>';
  fetch('https://api.github.com/repos/' + username + '/' + slug)
    .then(function(r) {
      if (r.status === 404) {
        result.innerHTML = '<span style="color:var(--success); font-weight:600;">\u2713 "' + slug + '" is available for ' + username + '</span>';
      } else if (r.ok) {
        result.innerHTML = '<span style="color:#c0392b; font-weight:600;">\u2717 "' + slug + '" is already taken \u2014 choose a different name</span>';
      } else {
        result.innerHTML = '<span style="color:var(--text-muted);">Could not check \u2014 verify manually at github.com/' + username + '/' + slug + '</span>';
      }
    })
    .catch(function() {
      result.innerHTML = '<span style="color:var(--text-muted);">Network error \u2014 verify manually at github.com/' + username + '</span>';
    });
}

// Supabase project ref — updates settings links + all credential placeholders
function updateSupabaseLinks() {
  var ref = document.getElementById('supabase-ref').value.trim();
  var display = ref || '___';
  var placeholder = ref || 'YOUR_PROJECT_REF';
  var apiLink = document.getElementById('supabase-api-link');
  var dbLink = document.getElementById('supabase-db-link');
  document.getElementById('supabase-api-ref').textContent = display;
  document.getElementById('supabase-db-ref').textContent = display;
  // Update all .supa-ref spans across the page (credentials blocks, webhook URLs)
  var spans = document.querySelectorAll('.supa-ref');
  for (var i = 0; i < spans.length; i++) {
    spans[i].textContent = placeholder;
    spans[i].style.color = ref ? '#5a8a3a' : '';
    spans[i].style.fontWeight = ref ? '700' : '';
  }
  var authLink = document.getElementById('supabase-auth-link');
  if (ref) {
    apiLink.href = 'https://supabase.com/dashboard/project/' + ref + '/settings/api';
    dbLink.href = 'https://supabase.com/dashboard/project/' + ref + '/settings/database';
    if (authLink) authLink.href = 'https://supabase.com/dashboard/project/' + ref + '/auth/providers';
  } else {
    apiLink.href = 'https://supabase.com/dashboard/project/_/settings/api';
    dbLink.href = 'https://supabase.com/dashboard/project/_/settings/database';
    if (authLink) authLink.href = 'https://supabase.com/dashboard/project/_/auth/providers';
  }
}

// Download CLAUDE.md (shareable, checked into repo)
function downloadClaudeMd() {
  var name = document.getElementById('project-name-input').value.trim() || 'My Project';
  var template = '# CLAUDE.md - ' + name + '\n\n' +
    'This file provides context for Claude (AI assistant) when working on this codebase.\n\n' +
    '> **See `CLAUDE.local.md` for credentials, connection strings, and environment-specific configuration.**\n' +
    '> That file is gitignored and contains operator directives, database access details, API keys, and deployment-specific settings.\n\n' +
    '## Project Overview\n\n' +
    name + ' is a [type of system] for [purpose]. It manages [core entities].\n\n' +
    '**Tech Stack:**\n' +
    '- Frontend: Vanilla HTML/CSS/JavaScript (no framework)\n' +
    '- Backend: Supabase (PostgreSQL + Storage + Auth)\n' +
    '- Hosting: GitHub Pages (static site)\n\n' +
    '## Architecture\n\n' +
    '```\n' +
    'Browser \u2192 GitHub Pages (static HTML/JS) \u2192 Supabase (database + storage)\n' +
    '```\n\n' +
    'No server-side code - all logic runs client-side. Supabase handles data persistence.\n\n' +
    '## Deployment\n\n' +
    'Push to main and it\'s live. No build step, no PR process.\n\n' +
    '```bash\n' +
    'git add <files>\n' +
    'git commit -m "Description"\n' +
    'git push\n' +
    '# Changes are live in 1-2 minutes\n' +
    '```\n\n' +
    '## Supabase Details\n\n' +
    '- Anon key is in `shared/supabase.js` (safe to expose, RLS protects data)\n' +
    '- Storage buckets: [list your buckets here]\n\n' +
    '## Authentication\n\n' +
    '### Google Sign-In (OAuth via Supabase)\n' +
    '- Auth handled by Supabase Auth (no edge function needed)\n' +
    '- Sign-in method: `supabase.auth.signInWithOAuth({ provider: \'google\' })`\n\n' +
    '## External Systems\n\n' +
    '### Email (Resend)\n' +
    '- API key stored as Supabase secret: `RESEND_API_KEY`\n\n' +
    '### SMS (Telnyx)\n' +
    '- Config in `telnyx_config` table\n' +
    '- Edge functions: `send-sms`, `telnyx-webhook`\n\n' +
    '### Payments (Square)\n' +
    '- Config in `square_config` table\n' +
    '- Edge function: `process-square-payment`\n\n' +
    '### E-Signatures (SignWell)\n' +
    '- Config in `signwell_config` table\n' +
    '- Edge function: `signwell-webhook`\n\n' +
    '## Conventions\n\n' +
    '1. Use toast notifications, not alert()\n' +
    '2. Filter archived items client-side\n' +
    '3. Don\'t expose personal info in public views\n' +
    '4. Client-side image compression for files > 500KB\n';

  downloadFile(template, 'CLAUDE.md');
}

// Download CLAUDE.local.md (private, gitignored)
function downloadClaudeLocalMd() {
  var name = document.getElementById('project-name-input').value.trim() || 'My Project';
  var template = '# CLAUDE.local.md - Private Configuration & Operator Directives\n\n' +
    'This file contains credentials, connection strings, and operator-specific directives.\n' +
    'It is gitignored and should NOT be checked into version control.\n\n' +
    '## Operator Directives\n\n' +
    '> **IMPORTANT: You have direct database access!**\n' +
    '> See "Direct Database Access" section below.\n' +
    '> Always run SQL migrations directly using `psql` - never ask the user to run SQL manually.\n\n' +
    '> **IMPORTANT: Push changes immediately!**\n' +
    '> This is a GitHub Pages site - changes only go live after pushing.\n' +
    '> Always `git push` as soon as changes are ready. Don\'t wait for user to ask.\n\n' +
    '## Live URLs\n\n' +
    '- Public view: https://USERNAME.github.io/REPO/\n' +
    '- Admin view: https://USERNAME.github.io/REPO/admin/\n\n' +
    '## Supabase Credentials\n\n' +
    '- Project ID: `YOUR_PROJECT_REF`\n' +
    '- URL: `https://YOUR_PROJECT_REF.supabase.co`\n\n' +
    '### Direct Database Access\n\n' +
    '```bash\n' +
    'psql "postgres://postgres.YOUR_REF:YOUR_PASSWORD@aws-0-REGION.pooler.supabase.com:5432/postgres" -c "SQL HERE"\n' +
    '```\n\n' +
    '- URL-encode special chars in password: `!` \u2192 `%21`, `@` \u2192 `%40`\n' +
    '- Use session pooler (IPv4 compatible)\n' +
    '- Always use this for database migrations\n\n' +
    '### Supabase CLI Access\n\n' +
    '```bash\n' +
    'supabase functions deploy <function-name>\n' +
    'supabase functions logs <function-name>\n' +
    'supabase secrets set KEY=value\n' +
    '```\n\n' +
    'Run these directly - don\'t ask the user to run them manually.\n\n' +
    '## Authentication\n\n' +
    '- Google Client ID: `your-client-id.apps.googleusercontent.com`\n' +
    '- Redirect URI: `https://YOUR_PROJECT_REF.supabase.co/auth/v1/callback`\n\n' +
    '## External Service Credentials\n\n' +
    '### Resend (Email)\n' +
    '- API key: stored as Supabase secret `RESEND_API_KEY`\n\n' +
    '### Telnyx (SMS)\n' +
    '- Phone Number: YOUR_PHONE_NUMBER\n' +
    '- Messaging Profile ID: YOUR_PROFILE_ID\n' +
    '- Webhook URL: `https://YOUR_PROJECT_REF.supabase.co/functions/v1/telnyx-webhook`\n\n' +
    '### Square (Payments)\n' +
    '- Application ID: YOUR_APP_ID\n' +
    '- Location ID: YOUR_LOCATION_ID\n\n' +
    '### SignWell (E-Signatures)\n' +
    '- Account: YOUR_EMAIL\n' +
    '- Webhook URL: `https://YOUR_PROJECT_REF.supabase.co/functions/v1/signwell-webhook`\n';

  downloadFile(template, 'CLAUDE.local.md');
}

// Helper to trigger file download
function downloadFile(content, filename) {
  var blob = new Blob([content], { type: 'text/markdown' });
  var url = URL.createObjectURL(blob);
  var a = document.createElement('a');
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}

// Public header is initialized by public-shell.js
</script>
<script type="module" src="/shared/version-info.js"></script>
<script type="module">
  import { initPublicPage } from '/shared/public-shell.js';

  initPublicPage({ transparent: true, light: true });
</script>

</body>
</html>
